---
phase: 05.1-module-2-modern-banking
plan: 03
type: execute
wave: 2
depends_on: ["05.1-01"]
files_modified: [src/components/visualizations/diagrams/BankOrganizationComparison.tsx, src/components/visualizations/diagrams/index.ts]
autonomous: true
---

<objective>
Create an interactive Bank Organization Comparison visualization.

Purpose: Show the evolution from Unit Bank ‚Üí Branch Network ‚Üí Bank Holding Company ‚Üí Financial Holding Company.
Output: BankOrganizationComparison component with visual org charts and comparison features.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05.1-module-2-modern-banking/05.1-CONTEXT.md

@src/components/visualizations/diagrams/DirectIndirectFinance.tsx
@src/components/visualizations/Entity.tsx
@src/components/visualizations/FlowArrow.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BankOrganizationComparison component</name>
  <files>src/components/visualizations/diagrams/BankOrganizationComparison.tsx</files>
  <action>
Create a visualization comparing four banking organization forms. Follow DirectIndirectFinance pattern with view toggle:

**Organization Forms:**

1. **Unit Bank**
   - Single building icon
   - "One location only"
   - Pros: Local focus, community ties
   - Cons: No diversification, vulnerable to local shocks
   - Era: 1870-1985 (Illinois)

2. **Branch Network**
   - Multiple connected buildings
   - "Many branches, one bank"
   - Pros: Geographic diversification, economies of scale
   - Cons: Still limited by state borders
   - Era: California model

3. **Bank Holding Company**
   - Parent company with multiple bank subsidiaries
   - "One owner, many banks"
   - Pros: Bypass branching restrictions, regulatory arbitrage
   - Cons: Complex structure
   - Era: 1956 onwards

4. **Financial Holding Company**
   - Large parent with banks + investment banks + insurance
   - "Financial supermarket"
   - Pros: Cross-selling, information advantage, economies of scope
   - Cons: Too Big To Fail, systemic risk
   - Era: 1999 (Gramm-Leach-Bliley) onwards

**Features:**
- Tab/toggle to switch between forms
- Or "Show All" view with 2x2 grid
- Visual org chart for each form using Entity components
- Highlight key characteristics
- Color progression showing evolution (amber ‚Üí emerald ‚Üí primary ‚Üí purple)
- Click on each form for detailed info panel

**Structure:**
```typescript
'use client';

import { useState } from 'react';
import { motion, AnimatePresence } from '@/lib/motion';
import { Entity } from '../Entity';
import { cn } from '@/lib/utils';

type OrgType = 'unit' | 'branch' | 'bhc' | 'fhc' | 'all';

interface OrgForm {
  id: OrgType;
  name: string;
  subtitle: string;
  era: string;
  pros: string[];
  cons: string[];
  color: string;
}

export function BankOrganizationComparison({ className }: { className?: string }) {
  const [activeView, setActiveView] = useState<OrgType>('all');
  const [selectedForm, setSelectedForm] = useState<OrgForm | null>(null);
  // ... implementation
}
```

Visual structure for each form:
- Unit: Single üè¶ entity
- Branch: Central üè¶ with 3 smaller branches connected
- BHC: üè¢ holding company at top, 3 üè¶ banks below
- FHC: üè¢ at top, row with üè¶ Bank + üìà Investment Bank + üõ°Ô∏è Insurance
  </action>
  <verify>`npm run build` succeeds</verify>
  <done>BankOrganizationComparison renders with 4 organization forms, view toggle, detail panels</done>
</task>

<task type="auto">
  <name>Task 2: Export BankOrganizationComparison</name>
  <files>src/components/visualizations/diagrams/index.ts</files>
  <action>
Add export for BankOrganizationComparison:

```typescript
export { BankOrganizationComparison } from './BankOrganizationComparison';
```
  </action>
  <verify>`npm run build` succeeds, component is importable</verify>
  <done>BankOrganizationComparison exported and accessible</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] All 4 organization forms display correctly
- [ ] View toggle works (individual + all)
- [ ] Click reveals pros/cons detail panel
- [ ] Visual org charts clearly show structure differences
- [ ] Color progression indicates evolution
</verification>

<success_criteria>
- All tasks completed
- Clear visual distinction between organization forms
- Educational content about each form's pros/cons
- Consistent with existing visualization patterns
</success_criteria>

<output>
After completion, create `.planning/phases/05.1-module-2-modern-banking/05.1-03-SUMMARY.md`
</output>
