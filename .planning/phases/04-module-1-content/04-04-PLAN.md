---
phase: 04-module-1-content
plan: 04
type: execute
wave: 2
depends_on: ["04-01", "04-02"]
files_modified: [src/components/visualizations/diagrams/MoneyFunctionsTriangle.tsx, src/components/visualizations/diagrams/MoneyEvolutionTimeline.tsx, src/components/visualizations/diagrams/index.ts]
autonomous: true
---

<objective>
Build Money Functions Triangle and Money Evolution Timeline visualizations.

Purpose: Create visualizations that explain what makes something "money" (three functions) and how money has evolved historically (commodity â†’ representative â†’ fiat).
Output: Two interactive diagrams for Lesson 1-1.1 (Money and Its Functions).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-module-1-content/04-CONTEXT.md

@src/components/visualizations/index.ts
@src/data/module1/concepts.ts
@src/lib/motion.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MoneyFunctionsTriangle visualization</name>
  <files>src/components/visualizations/diagrams/MoneyFunctionsTriangle.tsx</files>
  <action>
Create an interactive triangle showing the three functions of money:

```typescript
'use client';

import { useState } from 'react';
import { motion } from '@/lib/motion';
import { cn } from '@/lib/utils';

interface MoneyFunctionsTriangleProps {
  className?: string;
}

export function MoneyFunctionsTriangle({ className }: MoneyFunctionsTriangleProps) {
  const [activeFunction, setActiveFunction] = useState<string | null>(null);
  // ...
}
```

Visual layout (equilateral triangle):
```
              Means of Payment
                    ðŸ”„
                   /  \
                  /    \
                 /      \
                /   ðŸ’µ   \
               /          \
         ðŸ“Š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ðŸ’°
    Unit of Account    Store of Value
```

Features:
1. **SVG triangle** with three points, each representing a function:
   - Top: Means of Payment (icon: ðŸ”„) - "Settles transactions"
   - Bottom-left: Unit of Account (icon: ðŸ“Š) - "Measures value"
   - Bottom-right: Store of Value (icon: ðŸ’°) - "Preserves purchasing power"

2. **Interactive hover/click**:
   - Hover over a vertex to highlight it
   - Click to show detailed explanation below:
     - Means of Payment: "Money is accepted to complete transactions. When you pay, the transaction is finished."
     - Unit of Account: "Prices are expressed in money. Without it, we'd need to know exchange rates between every pair of goods."
     - Store of Value: "Money holds its value over time. If inflation is high, this function weakens."

3. **Animated connections**:
   - Lines connecting the three points pulse subtly
   - When a function is selected, its connections highlight
   - Center of triangle shows "ðŸ’µ Money" that pulses gently

4. **Color coding**:
   - Each function has a distinct color (use primary palette)
   - Primary-500 for Means of Payment
   - Secondary color for Unit of Account
   - Tertiary for Store of Value

Style: Glass morphism background, smooth animations, educational tooltips.
  </action>
  <verify>Triangle renders, hovering highlights functions, clicking shows explanations</verify>
  <done>Interactive Money Functions Triangle with explanations</done>
</task>

<task type="auto">
  <name>Task 2: Create MoneyEvolutionTimeline visualization</name>
  <files>src/components/visualizations/diagrams/MoneyEvolutionTimeline.tsx</files>
  <action>
Create a horizontal timeline showing money's evolution:

```typescript
'use client';

import { useState } from 'react';
import { motion } from '@/lib/motion';
import { cn } from '@/lib/utils';

interface MoneyEvolutionTimelineProps {
  className?: string;
}

export function MoneyEvolutionTimeline({ className }: MoneyEvolutionTimelineProps) {
  const [activeEra, setActiveEra] = useState<number>(0);
  // ...
}
```

Timeline structure:
```
[Commodity Money] â”€â”€â†’ [Representative Money] â”€â”€â†’ [Fiat Money]
   Ancient-1600s         1600s-1930s            1930s-Present

   Arrowheads            Paper backed           Government decree
   Shells                by gold                No intrinsic value
   Salt, Gold            Redeemable             Trust-based
```

Features:
1. **Three eras** as clickable cards on a timeline:
   - Commodity Money (icon: ðŸª™)
     - "Money with intrinsic value"
     - Examples: Arrowheads, shells, salt, gold, copper plates
   - Representative Money (icon: ðŸ“œ)
     - "Paper backed by commodity"
     - Examples: Gold-backed notes, Palmstruch's paper money
   - Fiat Money (icon: ðŸ’µ)
     - "Value by government decree"
     - Examples: Modern USD, EUR, all current currencies

2. **Animated timeline**:
   - Horizontal line with animated progress
   - Arrow indicators between eras
   - When you click an era, the timeline "fills" up to that point

3. **Detail panel** below timeline:
   - Shows when selected era: name, definition, examples, key characteristics
   - Animated slide-in when era changes
   - Include the "tradeoff" insight:
     - Commodity: Intrinsic value but inconvenient
     - Representative: Convenient but requires trust in redeemability
     - Fiat: Most convenient but requires trust in government

4. **Historical examples row**:
   - Small icons/images for each era's examples
   - Sweden copper plates (1600s), US Gold Standard (pre-1933), Modern dollar

Style: Timeline as a glass morphism bar, era cards with subtle shadows.
  </action>
  <verify>Timeline renders, clicking eras shows details, animations smooth</verify>
  <done>Interactive Money Evolution Timeline with historical context</done>
</task>

<task type="auto">
  <name>Task 3: Update barrel exports</name>
  <files>src/components/visualizations/diagrams/index.ts</files>
  <action>
Update the diagrams barrel export to include new components:

```typescript
// src/components/visualizations/diagrams/index.ts
export { FinancialSystemFlow } from './FinancialSystemFlow';
export { MoneyFunctionsTriangle } from './MoneyFunctionsTriangle';
export { MoneyEvolutionTimeline } from './MoneyEvolutionTimeline';
```

Verify all exports work correctly.
  </action>
  <verify>All components export correctly</verify>
  <done>Barrel exports updated with new components</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] `npm run build` succeeds
- [ ] MoneyFunctionsTriangle shows interactive triangle with three functions
- [ ] Clicking functions shows detailed explanations
- [ ] MoneyEvolutionTimeline shows three eras with progression
- [ ] Clicking eras shows historical details
- [ ] Both components use consistent glass morphism styling
- [ ] All components exported from diagrams barrel
</verification>

<success_criteria>
- All tasks completed
- Triangle clearly shows three functions of money
- Timeline shows historical evolution with context
- Animations are educational and engaging
- Content matches course definitions exactly
</success_criteria>

<output>
After completion, create `.planning/phases/04-module-1-content/04-04-SUMMARY.md`
</output>
