---
phase: 06-module-2-complete
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified: [src/components/visualizations/diagrams/LendingProcessFlow.tsx, src/components/visualizations/diagrams/InvestmentBankStructure.tsx, src/components/visualizations/diagrams/index.ts]
autonomous: true
---

<objective>
Create visualizations for lending process and investment banking (Lesson 2-9 and 2-10).

Purpose: Visualize the evolution of lending models (Originate-and-Hold to Originate-and-Distribute) and investment bank business structure.
Output: Two interactive visualization components with animations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@src/components/visualizations/diagrams/DirectIndirectFinance.tsx
@src/components/visualizations/diagrams/RegulationImpactFlow.tsx
@src/components/visualizations/FlowArrow.tsx
@src/components/visualizations/Entity.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LendingProcessFlow visualization</name>
  <files>src/components/visualizations/diagrams/LendingProcessFlow.tsx</files>
  <action>
Create animated flow diagram comparing two lending models:

Model 1: Originate and Hold (Traditional)
Flow: Borrower → [Origination] → Bank → [Financing] → Bank → [Servicing] → Bank
- Bank does everything: originate, finance from deposits, hold on balance sheet, service
- Risk stays with bank
- Profit: Interest income (spread)
- Show as single path with bank at center

Model 2: Originate and Distribute (Modern)
Flow: Borrower → [Origination] → Bank → [Securitization] → Investors → [Servicing] → Servicer
- Bank originates, packages into securities, sells to investors
- Risk transferred to investors
- Profit: Fee income (origination fees, servicing fees)
- Show as branching path with multiple actors

Interactive features:
- Toggle between models (default: side-by-side comparison)
- Animated money particles flowing through the system
- Highlight where risk resides (bank vs investors)
- Click entities to see details:
  - Origination: Credit evaluation, loan terms
  - Financing: Source of funds (deposits vs capital markets)
  - Securitization: Pooling loans into MBS/ABS
  - Servicing: Payment collection, monitoring

Color coding:
- Bank actions: primary blue
- Investor actions: emerald green
- Risk location: amber highlight

Use FlowArrow for connections, Entity for actors. Follow DirectIndirectFinance pattern.
  </action>
  <verify>npx tsc --noEmit passes</verify>
  <done>LendingProcessFlow shows both models with animated transitions</done>
</task>

<task type="auto">
  <name>Task 2: Create InvestmentBankStructure visualization</name>
  <files>src/components/visualizations/diagrams/InvestmentBankStructure.tsx</files>
  <action>
Create org chart visualization of investment bank divisions:

Top Level: Investment Bank (Corporate & Investment Bank)
├── Banking Division (Advisory + Underwriting)
│   ├── M&A Advisory
│   │   - Buy-side advisory
│   │   - Sell-side advisory
│   │   - Valuations
│   ├── Equity Underwriting
│   │   - IPOs
│   │   - Seasoned offerings
│   │   - Book building
│   └── Debt Underwriting
│       - Bond issuance
│       - Syndicated loans
│       - Leveraged finance
│
└── Markets Division (Trading + Brokerage)
    ├── Equities
    │   - Sales & trading
    │   - Market making
    │   - Research
    ├── Fixed Income
    │   - Bonds trading
    │   - Derivatives
    │   - FX/Commodities
    └── Prime Brokerage
        - Hedge fund services
        - Securities lending

Interactive features:
- Click to expand/collapse divisions
- Revenue breakdown animation (approx split):
  - Trading: ~75% of revenue
  - Banking (underwriting + advisory): ~25%
- Color code by business type:
  - Advisory: primary (fee-based)
  - Underwriting: emerald (commission-based)
  - Trading: amber (spread-based)
- Hover/click shows typical activities and example transactions

Use motion for expand/collapse animations. Tree structure with animated reveals.
  </action>
  <verify>npx tsc --noEmit passes</verify>
  <done>InvestmentBankStructure shows expandable org chart</done>
</task>

<task type="auto">
  <name>Task 3: Export new components</name>
  <files>src/components/visualizations/diagrams/index.ts</files>
  <action>
Add exports for new visualization components:
- export { LendingProcessFlow } from './LendingProcessFlow';
- export { InvestmentBankStructure } from './InvestmentBankStructure';

Note: 06-02 may have already modified this file. Add these exports alongside any from that plan.
  </action>
  <verify>All diagram exports work</verify>
  <done>Both components exported from diagrams/index.ts</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npx tsc --noEmit passes
- [ ] npm run build succeeds
- [ ] LendingProcessFlow renders both lending models
- [ ] InvestmentBankStructure renders expandable structure
</verification>

<success_criteria>
- All tasks completed
- Both visualizations work with motion animations
- Clear visual distinction between business models
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-module-2-complete/06-03-SUMMARY.md`
</output>
