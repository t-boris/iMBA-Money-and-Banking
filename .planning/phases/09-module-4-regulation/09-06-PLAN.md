---
phase: 09-module-4-regulation
plan: 06
type: execute
wave: 4
depends_on: ["09-01"]
files_modified:
  - src/components/visualizations/diagrams/RegulationOverviewFlow.tsx
  - src/components/visualizations/diagrams/SupervisoryProcessFlow.tsx
  - src/components/visualizations/diagrams/index.ts
autonomous: true
---

<objective>
Build two visualization components for overview and supervisory lessons: Regulation Overview Flow and Supervisory Process Flow.

Purpose: Create visualizations for the top-level regulation framework and the examination/enforcement process.
Output: Two new diagram components registered in the visualizations barrel export.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/visualizations/diagrams/RegulationImpactFlow.tsx
@src/components/visualizations/diagrams/CreditRiskFlow.tsx
@src/components/visualizations/diagrams/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create RegulationOverviewFlow component</name>
  <files>src/components/visualizations/diagrams/RegulationOverviewFlow.tsx</files>
  <action>
  Create a comprehensive overview visualization showing why banks are regulated and the full regulatory framework.

  Design: Top-down flow diagram with expandable sections.

  **Top ‚Äî "Why Regulate Banks?":**
  - Starting point: "Banks create value (credit, payments, savings)"
  - Arrow down to: "But failures create negative externalities"
  - Expandable list of consequences: lost credit access, lost savings, taxpayer costs, contagion
  - Visual: bank icon at top, ripple/shockwave effect expanding outward

  **Middle ‚Äî Three Pillars of Regulation:**
  Three animated cards appearing with stagger:

  1. "Rules" (Bank Regulation):
     - Entry & competition controls
     - Activity & investment restrictions
     - Funding requirements (capital, leverage)
     - Disclosure requirements
     - Icon: üìã clipboard

  2. "Safety Net" (Government Backstop):
     - FDIC Deposit Insurance (ex-ante)
     - Fed Lender of Last Resort (ex-post)
     - Icon: üõ°Ô∏è shield

  3. "Oversight" (Bank Supervision):
     - Examination (onsite + offsite)
     - CAMELS rating
     - Enforcement actions
     - Stress testing
     - Icon: üîç magnifying glass

  **Bottom ‚Äî US Regulatory Structure:**
  - Expandable section showing US regulators:
    - FDIC: deposit insurer & resolver
    - Federal Reserve: central bank & supervisor
    - OCC: national bank regulator
    - State regulators: state-chartered banks
  - Key note: "Multiple regulators (unusual ‚Äî most countries have one)"

  **Costs/Trade-offs section:**
  - Small expandable: "Regulation is not free"
  - Three items: Inefficiency (lower profits), Unintended consequences, Moral hazard
  - Cost-benefit analysis callout

  Follow existing flow diagram patterns. Glass morphism cards, stagger animations, expandable sections.
  </action>
  <verify>npm run build succeeds without errors</verify>
  <done>RegulationOverviewFlow renders why-regulate flow, three regulation pillars, US regulatory structure, and cost/trade-offs section.</done>
</task>

<task type="auto">
  <name>Task 2: Create SupervisoryProcessFlow component</name>
  <files>src/components/visualizations/diagrams/SupervisoryProcessFlow.tsx, src/components/visualizations/diagrams/index.ts</files>
  <action>
  Create an interactive visualization of the bank supervisory process from reporting to enforcement.

  Design: Horizontal process flow with detail panels.

  **Main Flow (animated left-to-right):**
  Step-by-step process with animated connections:

  1. "Offsite Monitoring"
     - Bank submits quarterly financial reports
     - Regulators analyze metrics, flag anomalies
     - Icon: üìä chart

  2. "Onsite Examination"
     - Physical inspection at bank premises
     - At least annually, sometimes surprise visits
     - Megabanks: permanent supervision teams
     - Icon: üè¢ building

  3. "CAMELS Rating"
     - Score across 6 dimensions (C-A-M-E-L-S)
     - Composite rating determines health
     - Icon: ‚≠ê star

  4. "Outcome"
     - Three branches animated:
       a. "Healthy" (green): Continue normal operations
       b. "Concerns" (amber): Required improvements, increased monitoring
       c. "Problem" (red): Problem Bank List ‚Üí restrictions

  **Enforcement Actions ‚Äî Expandable:**
  - Click "When Banks Break Rules" to expand:
    - Ban individuals from banking
    - Block M&A transactions
    - Prohibit dividend payments
    - Monetary fines
  - Case study card: "London Whale" ‚Äî JP Morgan lost ~$6B, fined ~$1B total
  - Logic: "Violation ‚Üí Financial Cost ‚Üí Deterrence"

  **Problem Bank List ‚Äî Animated counter:**
  - Show that the number is cyclical
  - Simple animated bar showing: low in good times ‚Üí high in recessions ‚Üí back to low
  - Note: "List is confidential ‚Äî banks know, public doesn't"

  Follow existing step-flow patterns (CreditRiskFlow for multi-step). Glass morphism, spring animations.

  **Update diagrams/index.ts:**
  Add exports for RegulationOverviewFlow and SupervisoryProcessFlow.
  </action>
  <verify>npm run build succeeds without errors</verify>
  <done>SupervisoryProcessFlow renders 4-step examination process, enforcement actions, and problem bank list. Both components exported from diagrams/index.ts.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds
- [ ] RegulationOverviewFlow renders complete framework
- [ ] SupervisoryProcessFlow renders examination process with enforcement
- [ ] Both components exported from diagrams/index.ts
</verification>

<success_criteria>
- All tasks completed
- Both visualization components working
- Overview provides clear mental model of regulatory framework
- Supervisory flow shows practical examination process
</success_criteria>

<output>
After completion, create `.planning/phases/09-module-4-regulation/09-06-SUMMARY.md`
</output>
