---
phase: 05.1-module-2-modern-banking
plan: 04
type: summary
status: complete
---

# Plan 05.1-04: Interest Spread Calculator

## Completed Tasks

### Task 1: Create InterestSpreadCalculator component
**Status:** Complete

Created `/src/components/visualizations/calculators/InterestSpreadCalculator.tsx` with:

**Interactive Sliders:**
- Deposit Rate (0-5%, default 2%) - what bank pays depositors
- Loan Rate (2-12%, default 6%) - what bank charges borrowers
- Total Deposits ($100B-$1T, default $500B)
- Loan-to-Deposit Ratio (50-95%, default 80%)

**Calculated Values with AnimatedValue:**
- Total Loans = Deposits x LTD Ratio
- Interest Income = Loans x Loan Rate
- Interest Expense = Deposits x Deposit Rate
- Net Interest Income = Income - Expense
- Interest Spread = Loan Rate - Deposit Rate

**Features Implemented:**
- Real-time calculation as sliders move
- AnimatedValue for smooth number transitions
- Visual bar comparison of income vs expense with animated widths
- Two preset buttons:
  - "3-6-3 Rule" (3% deposits, 6% loans, 75% LTD) - classic banking
  - "Modern Bank" (1% deposits, 5% loans, 85% LTD) - low rate era
- Warning display when spread < 1% (amber warning)
- Critical warning when spread <= 0% (red alert)
- Net profit margin calculation
- Color coding: emerald for income, amber for expense, indigo for profit

**Layout:**
- Centered container with max-width 800px
- Preset buttons at top for quick scenarios
- Two-column responsive grid:
  - Left: Bank Parameters (4 sliders)
  - Right: Bank Performance (calculated metrics)
- Bottom: Visual bar chart comparing income vs expense
- Conditional warning section for low/negative spreads

### Task 2: Export InterestSpreadCalculator
**Status:** Complete

Updated `/src/components/visualizations/calculators/index.ts` to export the new component.

## Verification

- [x] `npm run build` succeeds
- [x] All sliders work and update calculations
- [x] AnimatedValue smoothly transitions on change
- [x] Preset buttons (3-6-3 Rule, Modern Bank) work
- [x] Visual bar comparison shows income vs expense
- [x] Spread warning shows when < 1%

## Files Modified

1. `src/components/visualizations/calculators/InterestSpreadCalculator.tsx` - Created (new)
2. `src/components/visualizations/calculators/index.ts` - Updated export

## Usage

```tsx
import { InterestSpreadCalculator } from '@/components/visualizations';

// In a page or component:
<InterestSpreadCalculator className="my-8" />
```

## Educational Value

The calculator helps students understand:
1. How banks make money from the spread between loan and deposit rates
2. Why the "3-6-3 Rule" was famous in traditional banking
3. How modern low-rate environments compress bank margins
4. Why banks need to maintain minimum spreads to remain profitable
5. The relationship between deposits, loans, and the LTD ratio
