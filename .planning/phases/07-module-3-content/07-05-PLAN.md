---
phase: 07-module-3-content
plan: 05
type: execute
wave: 3
depends_on: ["07-01"]
files_modified: [src/components/visualizations/diagrams/MaturityMismatchDiagram.tsx, src/components/visualizations/diagrams/InterestRateSensitivity.tsx]
autonomous: true
---

<objective>
Create Maturity Mismatch Diagram and Interest Rate Sensitivity visualization.

Purpose: Illustrate how banks' asset-liability structure creates interest rate risk and show the two channels of rate impact.
Output: Two interactive visualization components for Lesson 3-2.3 (Interest Rate Risk).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-module-3-content/07-01-SUMMARY.md

# Pattern reference:
@src/components/visualizations/diagrams/BankBalanceSheetDetailed.tsx
@src/components/visualizations/diagrams/IncomeStatementWaterfall.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Maturity Mismatch Diagram</name>
  <files>src/components/visualizations/diagrams/MaturityMismatchDiagram.tsx</files>
  <action>
Create a visualization showing the fundamental maturity mismatch in banking:

**Main Visual: Two-Column Timeline**
Left Column - LIABILITIES (short-term):
- Checking accounts (overnight maturity)
- Savings deposits (days-weeks)
- CDs (months)
- Wholesale funding (days-months)
- Average duration: ~0.5-1 year

Right Column - ASSETS (long-term):
- Mortgages (20-30 years)
- Commercial loans (3-10 years)
- Auto loans (3-7 years)
- Securities (5-10 years)
- Average duration: ~5-10 years

**Visual Representation:**
- Horizontal bars showing maturity length
- Clear gap between asset and liability average durations
- "Duration Gap" highlighted with animated arrow

**Interest Rate Scenario Simulator:**
- Toggle: "Rates Rise" / "Rates Fall" / "Rates Stable"

When Rates Rise:
- Liabilities reprice quickly (expense ↑)
- Assets reprice slowly (income stable)
- Net Interest Income ↓ (squeeze)
- Asset values ↓ (longer duration = bigger drop)

When Rates Fall:
- Opposite effect
- NII ↑ temporarily
- But: prepayment risk on mortgages

**Cash Flow Channel Display:**
- Year 1: Show interest income vs expense
- Year 2: Show refinancing impact
- Animated bars showing squeeze or expansion

**Key Formulas:**
- Net Interest Income = Interest Income - Interest Expense
- Duration Gap = Asset Duration - Liability Duration

Use timeline visual similar to BankingEvolutionTimeline but for maturity.
Color code: short-term (blue), long-term (green), gap (orange warning).
  </action>
  <verify>npm run build succeeds, rate toggle updates impact display correctly</verify>
  <done>Maturity mismatch diagram with rate scenario simulation</done>
</task>

<task type="auto">
  <name>Task 2: Create Interest Rate Sensitivity visualization</name>
  <files>src/components/visualizations/diagrams/InterestRateSensitivity.tsx</files>
  <action>
Create a visualization showing how interest rates affect asset values:

**Main Visual: Bond Price vs Interest Rate Curve**
- X-axis: Interest Rate (0% to 10%)
- Y-axis: Bond Price (relative to par)
- Curved line showing inverse relationship
- Steeper curve for longer duration bonds

**Multi-Duration Comparison:**
- Three curves on same chart:
  - 1-year bond (nearly flat)
  - 5-year bond (moderate curve)
  - 30-year bond (steep curve)
- Interactive: highlight one curve at a time

**Rate Change Simulator:**
- Slider: Current rate (e.g., 4%)
- Slider: New rate (0% to 10%)
- Display: Price change for each duration
- Example: 2% rate increase →
  - 1-year bond: -2% price change
  - 5-year bond: -9% price change
  - 30-year bond: -25% price change

**Valuation Channel Explanation:**
- Panel showing:
  - Asset Value = Σ (Cash Flow / (1+r)^t)
  - Higher r → Lower present value
  - Longer t → More sensitive to r changes

**Bank Equity Impact:**
- Simplified balance sheet showing:
  - Assets (marked to market)
  - Liabilities (also marked, but shorter)
  - Equity = Assets - Liabilities
- Animate equity shrinking when rates rise (assets fall more than liabilities)

**Hedging Tools Panel:**
- Interest Rate Swap explanation
- "Exchange fixed for floating"
- How swap neutralizes duration mismatch

Use existing chart patterns or create with SVG.
Smooth animations on rate slider changes.
Show exact numbers as user adjusts rates.
  </action>
  <verify>npm run build succeeds, rate slider correctly updates price changes</verify>
  <done>Interest rate sensitivity with duration curves and bank equity impact</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds
- [ ] MaturityMismatchDiagram shows clear gap between asset/liability duration
- [ ] Rate toggle correctly shows squeeze/expansion effect
- [ ] InterestRateSensitivity shows inverse price-rate relationship
- [ ] Duration comparison shows longer = more sensitive
- [ ] Animations are smooth on slider changes
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Interest rate risk concepts clearly visualized
- Duration effect intuitive from visuals
</success_criteria>

<output>
After completion, create `.planning/phases/07-module-3-content/07-05-SUMMARY.md`
</output>
