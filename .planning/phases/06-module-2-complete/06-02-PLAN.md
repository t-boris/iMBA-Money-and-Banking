---
phase: 06-module-2-complete
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified: [src/components/visualizations/diagrams/BankTypesPyramid.tsx, src/components/visualizations/diagrams/FundingSourcesComparison.tsx, src/components/visualizations/diagrams/index.ts]
autonomous: true
---

<objective>
Create visualizations for bank types and funding sources (Lesson 2-6 and 2-7).

Purpose: Visualize the hierarchy of commercial banks (Community → Regional → Money Center) and compare funding sources (deposits vs wholesale vs capital).
Output: Two interactive visualization components with animations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@src/components/visualizations/diagrams/BankOrganizationComparison.tsx
@src/components/visualizations/diagrams/RevenueMixComparison.tsx
@src/components/visualizations/AnimatedValue.tsx
@src/lib/motion.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BankTypesPyramid visualization</name>
  <files>src/components/visualizations/diagrams/BankTypesPyramid.tsx</files>
  <action>
Create interactive pyramid showing bank types by size and function:

Structure (bottom to top):
1. Community Banks (base - widest)
   - Assets: < $1B
   - Focus: Local retail banking
   - Funding: Primarily deposits
   - Examples: Local credit unions, small banks

2. Regional/Super-Regional Banks (middle)
   - Assets: $10B - $500B+
   - Focus: Retail + wholesale mix
   - Funding: Deposits + some wholesale
   - Examples: PNC, US Bank

3. Money Center Banks (top - narrowest)
   - Assets: $1T+
   - Focus: Global wholesale banking
   - Funding: Heavy wholesale reliance
   - Examples: JPMorgan, Citigroup

Features:
- Click on each tier to expand details
- Animated highlight showing selection
- Show key metrics: asset size, funding mix, geographic reach
- Color gradient from emerald (stable community) to amber (complex money center)
- Use motion spring animations for tier expansion

Use 'use client' directive. Follow BankOrganizationComparison pattern for click-to-reveal.
  </action>
  <verify>npx tsc --noEmit passes</verify>
  <done>BankTypesPyramid component renders pyramid with 3 clickable tiers</done>
</task>

<task type="auto">
  <name>Task 2: Create FundingSourcesComparison visualization</name>
  <files>src/components/visualizations/diagrams/FundingSourcesComparison.tsx</files>
  <action>
Create comparison of bank funding sources with animated bars:

Three funding categories:
1. Retail Deposits (most stable, cheapest)
   - Transaction accounts (checking)
   - Savings accounts
   - Certificates of Deposit (CDs)
   - Characteristics: Insured by FDIC, sticky, low cost

2. Wholesale Funding (less stable, more expensive)
   - Federal Funds (overnight interbank)
   - Repo agreements (secured by securities)
   - Commercial paper
   - Characteristics: Uninsured, flighty in crisis, market-rate cost

3. Bank Capital (most stable, most expensive)
   - Common stock
   - Preferred stock
   - Retained earnings
   - Characteristics: No maturity, absorbs losses, highest cost

Interactive features:
- Horizontal stacked bar showing typical bank funding mix
- Slider or toggle to compare Community vs Money Center bank mix
- Community: ~85% deposits, ~5% wholesale, ~10% capital
- Money Center: ~60% deposits, ~30% wholesale, ~10% capital
- Animated transitions when switching bank type
- Color code: emerald (deposits), amber (wholesale), primary (capital)
- Show "Run on Repo" insight for wholesale funding risks

Use AnimatedValue for percentage displays. Follow RevenueMixComparison pattern.
  </action>
  <verify>npx tsc --noEmit passes</verify>
  <done>FundingSourcesComparison shows animated funding mix with bank type toggle</done>
</task>

<task type="auto">
  <name>Task 3: Export new components</name>
  <files>src/components/visualizations/diagrams/index.ts</files>
  <action>
Add exports for new visualization components:
- export { BankTypesPyramid } from './BankTypesPyramid';
- export { FundingSourcesComparison } from './FundingSourcesComparison';

Add after existing exports. Maintain alphabetical order if possible.
  </action>
  <verify>Import works: create temp file importing both components</verify>
  <done>Both components exported from diagrams/index.ts</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npx tsc --noEmit passes
- [ ] npm run build succeeds
- [ ] BankTypesPyramid renders without errors
- [ ] FundingSourcesComparison renders without errors
</verification>

<success_criteria>
- All tasks completed
- Both visualizations work with motion animations
- Click interactions reveal additional information
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-module-2-complete/06-02-SUMMARY.md`
</output>
