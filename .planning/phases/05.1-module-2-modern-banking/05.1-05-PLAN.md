---
phase: 05.1-module-2-modern-banking
plan: 05
type: execute
wave: 3
depends_on: ["05.1-01"]
files_modified: [src/components/visualizations/diagrams/RegulationImpactFlow.tsx, src/components/visualizations/diagrams/index.ts]
autonomous: true
---

<objective>
Create a Regulation Impact Flow visualization showing how key laws changed banking.

Purpose: Illustrate the effects of Glass-Steagall, Riegle-Neal, and Gramm-Leach-Bliley on banking structure.
Output: RegulationImpactFlow component with before/after comparisons and animated transitions.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05.1-module-2-modern-banking/05.1-CONTEXT.md

@src/components/visualizations/diagrams/DirectIndirectFinance.tsx
@src/components/visualizations/Entity.tsx
@src/components/visualizations/FlowArrow.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create RegulationImpactFlow component</name>
  <files>src/components/visualizations/diagrams/RegulationImpactFlow.tsx</files>
  <action>
Create a visualization showing three major banking regulations and their impacts:

**Three Regulations:**

1. **Glass-Steagall Act (1933)**
   - Before: Chaos - banks doing everything, bank runs
   - After: Separation - commercial banks | investment banks
   - Created: FDIC, Regulation Q
   - Impact: Stability but fragmentation
   - Visual: Split diagram showing separation

2. **Riegle-Neal Act (1994)**
   - Before: Banks limited to single states
   - After: Banks can operate nationwide
   - Impact: Geographic freedom, consolidation begins
   - Visual: Map-like view showing expansion

3. **Gramm-Leach-Bliley Act (1999)**
   - Before: Separated commercial/investment banking
   - After: Financial Holding Companies - everything combined
   - Impact: Product freedom, "financial supermarkets", systemic risk
   - Visual: Merge diagram showing combination

**Features:**
- Tab selector for each regulation
- Animated before/after transition
- FlowArrows showing the change
- Impact panel with pros/cons
- Timeline indicator showing when each occurred
- Color coding: amber (before crisis), emerald (stability), primary (modern)

**Structure:**
```typescript
'use client';

import { useState } from 'react';
import { motion, AnimatePresence } from '@/lib/motion';
import { Entity } from '../Entity';
import { FlowArrow } from '../FlowArrow';
import { cn } from '@/lib/utils';

type RegulationType = 'glass-steagall' | 'riegle-neal' | 'gramm-leach-bliley';

interface Regulation {
  id: RegulationType;
  name: string;
  year: number;
  before: {
    title: string;
    description: string;
  };
  after: {
    title: string;
    description: string;
  };
  impact: {
    positive: string[];
    negative: string[];
  };
}

export function RegulationImpactFlow({ className }: { className?: string }) {
  const [activeReg, setActiveReg] = useState<RegulationType>('glass-steagall');
  const [showAfter, setShowAfter] = useState(true);
  // ... implementation
}
```

**Layout:**
- Top: Regulation selector tabs with years
- Middle: Before/After visualization with toggle
- Bottom: Impact panel (positive/negative)
- Animation: Smooth transition between before/after states
  </action>
  <verify>`npm run build` succeeds</verify>
  <done>RegulationImpactFlow renders with 3 regulations, before/after views, impact panels</done>
</task>

<task type="auto">
  <name>Task 2: Export RegulationImpactFlow</name>
  <files>src/components/visualizations/diagrams/index.ts</files>
  <action>
Add export for RegulationImpactFlow:

```typescript
export { RegulationImpactFlow } from './RegulationImpactFlow';
```
  </action>
  <verify>`npm run build` succeeds, component is importable</verify>
  <done>RegulationImpactFlow exported and accessible</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] All 3 regulations display correctly
- [ ] Before/after toggle animates smoothly
- [ ] Impact panels show pros and cons
- [ ] Visual diagrams clearly show regulatory changes
</verification>

<success_criteria>
- All tasks completed
- Three major regulations clearly explained
- Before/after comparison is intuitive
- Consistent with existing visualization patterns
</success_criteria>

<output>
After completion, create `.planning/phases/05.1-module-2-modern-banking/05.1-05-SUMMARY.md`
</output>
