---
phase: 07-module-3-content
plan: 04
type: execute
wave: 3
depends_on: ["07-01"]
files_modified: [src/components/visualizations/diagrams/CreditRiskFlow.tsx, src/components/visualizations/diagrams/FICOScoreScale.tsx]
autonomous: true
---

<objective>
Create Credit Risk Flow visualization and FICO Score Scale component.

Purpose: Illustrate the credit risk assessment process and the relationship between credit scores and default probability.
Output: Two interactive visualization components for Lesson 3-2.2 (Credit Risk).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-module-3-content/07-01-SUMMARY.md

# Pattern reference:
@src/components/visualizations/diagrams/LendingProcessFlow.tsx
@src/components/visualizations/diagrams/RegulationImpactFlow.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Credit Risk Flow visualization</name>
  <files>src/components/visualizations/diagrams/CreditRiskFlow.tsx</files>
  <action>
Create a flow diagram showing the credit risk management process:

**Flow Steps (horizontal or vertical flow):**
1. **Loan Application**
   - Borrower data: income, wealth, occupation
   - Credit bureau data, payment history

2. **Credit Analysis / Screening**
   - Qualitative assessment
   - Statistical models (regression, ML)
   - Scoring models

3. **Credit Rating**
   - Output: Rating grade (AAA → D for corporate, or FICO for consumer)
   - Probability of Default (PD) mapped to rating

4. **Risk-Based Pricing**
   - Higher PD → Higher interest rate
   - Formula: Loan Rate = Funding Cost + Expected Loss + Risk Premium

5. **Loan Origination**
   - Covenants attached
   - Collateral requirements
   - Seniority determined

6. **Ongoing Monitoring**
   - Non-performing loan detection
   - Covenant compliance
   - Workout if needed

**Interactive Features:**
- Click on each step to expand details
- Animated flow arrows between steps
- Example loan journey (highlight path through the flow)

**Side Panel: Risk Management Tools**
- Diversification (reduce concentration)
- Loan Sales / Syndication
- Credit Derivatives (CDS)
- Recovery Rate expectations by seniority

**Visual Style:**
- Use FlowArrow component pattern if exists, or create similar
- Each step as a card with icon
- Color progression (neutral → green if approved, → red if rejected path)
- Animated money/document flowing through steps

Follow existing LendingProcessFlow pattern for structure.
  </action>
  <verify>npm run build succeeds, flow renders with clickable steps</verify>
  <done>Credit risk flow with 6 steps, expandable details, and risk tools panel</done>
</task>

<task type="auto">
  <name>Task 2: Create FICO Score Scale visualization</name>
  <files>src/components/visualizations/diagrams/FICOScoreScale.tsx</files>
  <action>
Create an interactive FICO score scale showing the relationship to default probability:

**Main Visual: Score Scale (300-850)**
- Horizontal or vertical gradient bar from red (300) to green (850)
- Score ranges labeled:
  - 300-579: Poor (red)
  - 580-669: Fair (orange)
  - 670-739: Good (yellow-green)
  - 740-799: Very Good (green)
  - 800-850: Exceptional (bright green)

**Interactive Slider:**
- User can move slider to select a FICO score
- Display at selected score:
  - Score value
  - Rating category (Poor/Fair/Good/Very Good/Exceptional)
  - Approximate Probability of Default
  - Typical interest rate impact (+2%, +1%, base, etc.)
  - Approval likelihood

**Default Probability Overlay:**
- Second layer showing PD curve overlaid on scale
- Exponential relationship: PD increases dramatically at low scores
- Example PD values:
  - 800+: ~1% PD
  - 750: ~2% PD
  - 700: ~5% PD
  - 650: ~10% PD
  - 600: ~20% PD
  - 550: ~35% PD

**Context Panel:**
- What affects FICO: payment history, credit utilization, length of history, new credit, credit mix
- "No FICO score" warning (why it's a bad signal)
- Comparison to corporate ratings (BBB ≈ 0.2% PD)

**Animation:**
- Smooth slider movement
- PD value animates as score changes
- Rating category transitions smoothly
- Color pulse on the current position

Use existing slider component pattern or create inline.
Include educational tooltips explaining each score range.
  </action>
  <verify>npm run build succeeds, slider updates PD and category correctly</verify>
  <done>Interactive FICO scale with PD overlay and educational context</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds
- [ ] CreditRiskFlow shows all 6 steps with expandable details
- [ ] FICOScoreScale slider correctly updates PD and category
- [ ] Flow arrows animate smoothly
- [ ] Score colors match risk levels
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Credit risk concepts clearly visualized
- Interactive elements respond correctly
</success_criteria>

<output>
After completion, create `.planning/phases/07-module-3-content/07-04-SUMMARY.md`
</output>
