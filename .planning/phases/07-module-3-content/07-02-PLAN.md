---
phase: 07-module-3-content
plan: 02
type: execute
wave: 2
depends_on: ["07-01"]
files_modified: [src/components/visualizations/diagrams/RiskReturnTradeoff.tsx, src/components/visualizations/diagrams/BankCapitalStructure.tsx]
autonomous: true
---

<objective>
Create Risk-Return Tradeoff visualization and Bank Capital Structure diagram.

Purpose: Visual explanation of the fundamental risk-return relationship and how bank equity functions as a loss absorber.
Output: Two interactive visualization components for Lesson 3-0 and 3-1.1.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-module-3-content/07-01-SUMMARY.md

# Pattern reference:
@src/components/visualizations/diagrams/BankBalanceSheetDetailed.tsx
@src/components/visualizations/diagrams/IncomeStatementWaterfall.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Risk-Return Tradeoff visualization</name>
  <files>src/components/visualizations/diagrams/RiskReturnTradeoff.tsx</files>
  <action>
Create an interactive Risk-Return Tradeoff curve visualization:

**Visual Design:**
- X-axis: Risk (Standard Deviation or volatility)
- Y-axis: Expected Return
- Curved line showing the tradeoff relationship
- Labeled points for different investment types:
  - Treasury Bills (low risk, low return)
  - Government Bonds
  - Corporate Bonds
  - Bank Loans
  - Equities (high risk, high return)

**Interactive Features:**
- Slider to adjust "risk tolerance" that highlights different regions
- Animated dot that moves along the curve as slider changes
- Info panels showing:
  - Current risk level
  - Expected return at that level
  - Example investments in that zone

**Key Concepts to Display:**
- Risk Premium = Expected Return - Risk-Free Rate
- Higher risk requires higher expected return to compensate
- Banks operate in the middle zone (loans, some trading)

**Animation:**
- Smooth curve drawing on mount
- Pulsing dots at key investment points
- Animated transition when slider moves

Use 'use client', motion from @/lib/motion, cn from @/lib/utils.
Follow existing component patterns (useState, proper TypeScript interfaces).
Color scheme: Use existing design tokens (primary, emerald, amber for different zones).
  </action>
  <verify>npm run build succeeds, component renders without errors</verify>
  <done>Interactive risk-return curve with slider, labeled points, and info panels</done>
</task>

<task type="auto">
  <name>Task 2: Create Bank Capital Structure visualization</name>
  <files>src/components/visualizations/diagrams/BankCapitalStructure.tsx</files>
  <action>
Create a visualization showing bank capital as the "loss absorber":

**Visual Design:**
- Stacked bar or waterfall showing:
  - Assets (top)
  - Liabilities (deposits, borrowing)
  - Equity (bottom, highlighted as "buffer")

**Scenario Simulation:**
- Toggle or slider showing "Loss Scenario"
- States:
  1. Normal: Assets = Liabilities + Equity (balanced)
  2. Small Loss: Assets drop slightly, equity absorbs
  3. Large Loss: Assets drop significantly, equity shrinks more
  4. Insolvency: Losses exceed equity, liabilities at risk

**Key Concepts:**
- Equity = Assets - Liabilities (fundamental equation)
- Equity is "first-loss piece" - absorbs losses before creditors
- Residual Claim - shareholders get what's left after liabilities paid
- Capital Requirements - why regulators want thick equity buffer

**Animation:**
- Smooth transitions between loss scenarios
- Assets shrinking animation
- Equity bar changing color (green → yellow → red) as losses mount
- "Insolvency threshold" line that becomes visible when equity is low

**Info Panels:**
- Current equity percentage
- Loss amount absorbed
- Status message (Healthy / Stressed / Critical / Insolvent)

Use same tech stack as Task 1.
Include liquidation waterfall concept (Sell Assets → Pay Liabilities → Residual to Shareholders).
  </action>
  <verify>npm run build succeeds, component renders without errors</verify>
  <done>Interactive capital structure with loss scenario simulation showing equity as buffer</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds
- [ ] Both components render correctly
- [ ] RiskReturnTradeoff has working slider and curve
- [ ] BankCapitalStructure shows loss absorption scenarios
- [ ] Animations smooth and performant
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Visualizations ready for Module 3 integration
</success_criteria>

<output>
After completion, create `.planning/phases/07-module-3-content/07-02-SUMMARY.md`
</output>
